{% extends 'base.html' %}

{% block head %}
<body>
    <div class="header-container">
        <div class="nav-links">
            <a href="{% url 'add_listing' %}"> Add a listing | </a> 
            <a href='profile'> Profile | </a>
            <a href='logout'> Logout </a>
            <a href="{% url 'cart' %}">Cart</a>
        </div>
    </div>

    <div class="sidebar-container">
        <div class="sidebar">
            <form method="GET" action="">
                <input type="text" name="q" placeholder="Search..." value="{{ request.GET.q }}">
                <button type="submit">Search</button>
            </form>
        </div>

        <h1>Listings will go here</h1>
        <div class="listing-grid">
            {% for product in products %}
            <!-- Listing cards will be displayed here -->
            <div class="listing-card">
                <p><img src="{{ product.image.url }}" width="200" height="200"/></p>
                <p>Product Name: {{ product.name }}</p>
                <p>Info: {{ product.description }}</p>
                <p>Price: ${{ product.price }}</p>
                <p>Made Available:{{ product.made_available}}</p>
                <form method="POST" action="{% url 'add_to_cart' %}">
                    {% csrf_token %}
                    <input type="hidden" name="product_id" value="{{ product.id }}">
                    <button type="submit">Add to Cart</button>
                </form>
            </div>
            {% empty %}
            <h3>Currently No Products</h3>
            {% endfor %}
        </div>
    </div>
</body>
{% endblock %}
